# QQ三国的BUG整理

## 解除恐惧恐惧在客户端和服务端表现不一致的bug

太极清灵术、清灵散的数值是 5507666，数值下标是0
YY的威慑天下 造成的恐惧异常状态的大类为 20

是否能被清除=((1<<(20&31))&5507666)!=0

![image](https://user-images.githubusercontent.com/25654404/204692116-2934d1b6-8fea-48e3-8eb5-38a177678a3b.png)

### 先决条件

1. 一个YY的角色A
2. 任意一个角色B，且拥有道具清灵散

### 复现步骤

1. A对B使用技能“威慑天下”，B玩家获得恐惧状态并向反方向（相对与A）强制移动
2. B玩家使用道具“清灵散”

### 期望结果

B玩家可以正常移动，且可以释放技能

### 实际结果

B玩家可以正常移动，但不能释放技能，且移动后，会被传送回被控制时的坐标。

### 原因分析

客户端的代码和服务端的代码实现逻辑不一致。即“是否能被清除”的结果，在客户端的结算中与服务端不一致。

## 技能“碎刃裂魄斧”CD异常的BUG

“技能”碎刃裂魄斧的效果为 “半空河影流云碎，魄慑魂飞骨亦销\n豪杰140级招式，攻击距离300。掷出飞斧，对目标造成大量伤害和降低移动速度，同时在目标处留下飞斧，角色触碰地上的飞斧后，减少此技能的冷却时间，获得裂魄状态。\n/C27裂魄状态下/C18自己的伤害提升并受到少量持续伤害”

### 先决条件

一个学习了技能“碎刃裂魄斧”的豪杰角色A。

### 复现步骤

1. A对任意目标使用 “碎刃裂魄斧”，在目标附近回生成一个“飞斧”
2. A开始移动，并去触碰地上的飞斧

### 期望结果

角色A获得“裂魄”状态，角色的 AccelItem%d 上显示的cd缩短6秒，并在技能cd完成时，可以立即再次释放该技能。

### 实际结果

角色A获得“裂魄”状态，角色的 AccelItem%d 上显示的cd缩短6秒，并在技能cd完成时，角色无法立即再次释放该技能。

### 原因分析

客户端代码中，技能cd实际的信息未正确设置到技能上。
